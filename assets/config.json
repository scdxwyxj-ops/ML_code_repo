{
  "missing_value_presets": {
    "stock_market": {
      "numeric_strategy": "ffill",
      "categorical_strategy": "ffill",
      "datetime_strategy": "ffill",
      "drop_rows_threshold": 0.9,
      "indicator": true
    },
    "credit_card_fraud": {
      "numeric_strategy": "median",
      "categorical_strategy": "mode",
      "drop_columns_threshold": 0.98,
      "indicator": false
    },
    "lending_club_loans": {
      "numeric_strategy": "median",
      "categorical_strategy": "mode",
      "drop_columns_threshold": 0.6,
      "drop_rows_threshold": 0.8,
      "indicator": true
    }
  },
  "preprocessing": {
    "stock_market": {
      "missing_values_preset": "stock_market",
      "scaling": {
        "strategy": "standard",
        "columns": [
          "Open",
          "High",
          "Low",
          "Close",
          "Volume"
        ],
        "groupby": [
          "Ticker"
        ]
      },
      "rolling_features": [
        {
          "columns": [
            "Close"
          ],
          "window": 5,
          "min_periods": 1,
          "aggregations": [
            "mean",
            "std"
          ],
          "groupby": [
            "Ticker"
          ],
          "prefix": "close"
        },
        {
          "columns": [
            "Volume"
          ],
          "window": 5,
          "min_periods": 1,
          "aggregations": [
            "mean"
          ],
          "groupby": [
            "Ticker"
          ],
          "prefix": "volume"
        }
      ],
      "feature_sets": {
        "technical": {
          "steps": [
            {
              "type": "technical_indicators",
              "price_column": "Close",
              "volume_column": "Volume",
              "groupby": [
                "Ticker"
              ],
              "windows": [
                5,
                10,
                20
              ]
            }
          ]
        },
        "sentiment": {
          "steps": [
            {
              "type": "sentiment_proxy",
              "price_column": "Close",
              "groupby": [
                "Ticker"
              ],
              "window": 10,
              "prefix": "sentiment"
            }
          ]
        },
        "macro": {
          "steps": [
            {
              "type": "macro_proxy",
              "date_column": "Date",
              "columns": [
                "Close",
                "Volume"
              ],
              "aggregations": [
                "mean",
                "std"
              ],
              "prefix": "macro"
            }
          ]
        }
      },
      "target": {
        "type": "direction",
        "price_column": "Close",
        "horizon": 1,
        "positive_label": 1,
        "negative_label": 0
      },
      "ablation_feature_sets": [
        [
          "technical"
        ],
        [
          "technical",
          "sentiment"
        ],
        [
          "technical",
          "macro"
        ],
        [
          "technical",
          "sentiment",
          "macro"
        ]
      ],
      "feature_selection": {
        "exclude": [
          "Date",
          "Ticker"
        ]
      },
      "class_balance": {
        "method": "oversample",
        "random_state": 42
      },
      "profiles": {
        "P0_baseline": {},
        "P1_median_mode_no_indicator": {
          "missing_override": {
            "numeric_strategy": "median",
            "categorical_strategy": "mode",
            "indicator": false
          }
        },
        "P2_robust_scaler_winsorize": {
          "scaling": {
            "strategy": "robust",
            "columns": [
              "Open",
              "High",
              "Low",
              "Close",
              "Volume"
            ],
            "groupby": [
              "Ticker"
            ]
          },
          "outlier_clip": {
            "method": "winsorize",
            "lower": 0.01,
            "upper": 0.99,
            "per_group": true,
            "columns": [
              "Open",
              "High",
              "Low",
              "Close",
              "Volume"
            ],
            "groupby": [
              "Ticker"
            ]
          }
        },
        "P3_minmax_global": {
          "scaling": {
            "strategy": "minmax",
            "columns": [
              "Open",
              "High",
              "Low",
              "Close",
              "Volume"
            ],
            "groupby": []
          }
        },
        "P4_no_scaling": {
          "scaling": {
            "strategy": null
          },
          "transforms": [
            {
              "type": "log1p_safe",
              "columns": [
                "Volume"
              ]
            }
          ]
        },
        "P5_short_windows_returns": {
          "rolling_features": [
            {
              "columns": [
                "Close"
              ],
              "window": 3,
              "min_periods": 1,
              "aggregations": [
                "mean",
                "std"
              ],
              "groupby": [
                "Ticker"
              ],
              "prefix": "close"
            },
            {
              "columns": [
                "Volume"
              ],
              "window": 3,
              "min_periods": 1,
              "aggregations": [
                "mean"
              ],
              "groupby": [
                "Ticker"
              ],
              "prefix": "volume"
            }
          ],
          "transforms": [
            {
              "type": "returns",
              "columns": [
                "Close"
              ],
              "lags": [
                1,
                3,
                5
              ],
              "groupby": [
                "Ticker"
              ],
              "prefix": "ret"
            }
          ]
        }
      },
      "ablation_preprocessing_sets": [
        "P0_baseline",
        "P1_median_mode_no_indicator",
        "P2_robust_scaler_winsorize",
        "P3_minmax_global",
        "P4_no_scaling",
        "P5_short_windows_returns"
      ]
    },
    "credit_card_fraud": {
      "missing_values_preset": "credit_card_fraud",
      "scaling": {
        "strategy": "standard",
        "columns": [
          "Time",
          "Amount",
          "V1",
          "V2",
          "V3",
          "V4",
          "V5",
          "V6",
          "V7",
          "V8",
          "V9",
          "V10",
          "V11",
          "V12",
          "V13",
          "V14",
          "V15",
          "V16",
          "V17",
          "V18",
          "V19",
          "V20",
          "V21",
          "V22",
          "V23",
          "V24",
          "V25",
          "V26",
          "V27",
          "V28"
        ]
      },
      "order_columns": [
        "Time"
      ],
      "feature_sets": {
        "baseline": {
          "steps": []
        }
      },
      "target": {
        "type": "column",
        "column": "Class"
      },
      "feature_selection": {
        "exclude": [
          "Class"
        ]
      },
      "class_balance": {
        "method": "oversample",
        "random_state": 42,
        "target_column": "Class"
      },
      "profiles": {
        "P0_baseline": {},
        "P1_robust_with_winsorize": {
          "scaling": {
            "strategy": "robust",
            "columns": [
              "Time",
              "Amount",
              "V1",
              "V2",
              "V3",
              "V4",
              "V5",
              "V6",
              "V7",
              "V8",
              "V9",
              "V10",
              "V11",
              "V12",
              "V13",
              "V14",
              "V15",
              "V16",
              "V17",
              "V18",
              "V19",
              "V20",
              "V21",
              "V22",
              "V23",
              "V24",
              "V25",
              "V26",
              "V27",
              "V28"
            ]
          },
          "outlier_clip": {
            "method": "winsorize",
            "lower": 0.01,
            "upper": 0.99,
            "columns": [
              "V1",
              "V2",
              "V3",
              "V4",
              "V5",
              "V6",
              "V7",
              "V8",
              "V9",
              "V10",
              "V11",
              "V12",
              "V13",
              "V14",
              "V15",
              "V16",
              "V17",
              "V18",
              "V19",
              "V20",
              "V21",
              "V22",
              "V23",
              "V24",
              "V25",
              "V26",
              "V27",
              "V28",
              "Amount"
            ]
          }
        },
        "P2_minmax_global": {
          "scaling": {
            "strategy": "minmax",
            "columns": [
              "Time",
              "Amount",
              "V1",
              "V2",
              "V3",
              "V4",
              "V5",
              "V6",
              "V7",
              "V8",
              "V9",
              "V10",
              "V11",
              "V12",
              "V13",
              "V14",
              "V15",
              "V16",
              "V17",
              "V18",
              "V19",
              "V20",
              "V21",
              "V22",
              "V23",
              "V24",
              "V25",
              "V26",
              "V27",
              "V28"
            ],
            "groupby": []
          }
        },
        "P3_log_amount_no_scaling": {
          "scaling": {
            "strategy": null
          },
          "transforms": [
            {
              "type": "log1p_safe",
              "columns": [
                "Amount"
              ]
            }
          ]
        }
      },
      "ablation_preprocessing_sets": [
        "P0_baseline",
        "P1_robust_with_winsorize",
        "P2_minmax_global",
        "P3_log_amount_no_scaling"
      ]
    }
  },
  "models": {
    "logistic_regression": {
      "module": "sklearn.linear_model",
      "class": "LogisticRegression",
      "params": {
        "solver": "lbfgs",
        "max_iter": 5000,
        "tol": 0.001,
        "C": 0.5
      }
    },
    "random_forest": {
      "module": "sklearn.ensemble",
      "class": "RandomForestClassifier",
      "params": {
        "n_estimators": 200,
        "max_depth": null,
        "random_state": 42,
        "n_jobs": -1
      }
    },
    "gradient_boosting": {
      "module": "sklearn.ensemble",
      "class": "GradientBoostingClassifier",
      "params": {
        "random_state": 42
      }
    },
    "naive_bayes": {
      "module": "sklearn.naive_bayes",
      "class": "GaussianNB",
      "params": {}
    },
    "decision_tree": {
      "module": "sklearn.tree",
      "class": "DecisionTreeClassifier",
      "params": {
        "random_state": 42
      }
    },
    "svm": {
      "module": "sklearn.svm",
      "class": "SVC",
      "params": {
        "kernel": "rbf",
        "probability": true,
        "random_state": 42
      }
    }
  },
  "deep_models": {
    "mlp": {
      "module": "models.neural",
      "class": "TabularMLP",
      "params": {
        "hidden_dims": [
          128,
          64
        ],
        "dropout": 0.2
      },
      "training": {
        "epochs": 20,
        "batch_size": 512,
        "learning_rate": 0.001
      }
    },
    "lstm": {
      "module": "models.neural",
      "class": "TabularLSTM",
      "params": {
        "hidden_size": 64,
        "num_layers": 2,
        "dropout": 0.2
      },
      "training": {
        "epochs": 25,
        "batch_size": 512,
        "learning_rate": 0.001
      }
    },
    "transformer": {
      "module": "models.neural",
      "class": "TabularTransformer",
      "params": {
        "d_model": 64,
        "nhead": 8,
        "num_layers": 2,
        "dim_feedforward": 128,
        "dropout": 0.1
      },
      "training": {
        "epochs": 25,
        "batch_size": 512,
        "learning_rate": 0.0008
      }
    }
  },
  "experiments": {
    "q1_stock_movement": {
      "dataset": "stock_market",
      "dataset_options": {
        "tickers": [
          "aapl.us",
          "msft.us"
        ],
        "date_column": "Date",
        "ticker_column": "Ticker",
        "parse_dates": true,
        "limit_per_ticker": 2000
      },
      "split": {
        "method": "time",
        "test_size": 0.2
      },
      "models": [
        "logistic_regression",
        "naive_bayes",
        "decision_tree",
        "svm",
        "random_forest",
        "gradient_boosting"
      ],
      "metrics": [
        "accuracy",
        "f1"
      ],
      "ablation_sets_key": "ablation_preprocessing_sets",
      "ablation_axis": "preprocessing",
      "feature_sets_fixed": [
        "technical",
        "sentiment",
        "macro"
      ]
    },
    "q2_credit_fraud": {
      "dataset": "credit_card_fraud",
      "dataset_options": {
        "parse_dates": false,
        "limit_rows": 200000
      },
      "split": {
        "method": "time",
        "test_size": 0.2
      },
      "models": [
        "logistic_regression",
        "naive_bayes",
        "decision_tree",
        "svm",
        "random_forest",
        "gradient_boosting"
      ],
      "neural_models": [
        "mlp",
        "lstm",
        "transformer"
      ],
      "metrics": [
        "accuracy",
        "f1"
      ],
      "ablation_axis": "preprocessing",
      "ablation_sets_key": "ablation_preprocessing_sets",
      "feature_sets_fixed": [
        "baseline"
      ]
    }
  }
}
