{
  "missing_value_presets": {
    "stock_market": {
      "numeric_strategy": "ffill",
      "categorical_strategy": "ffill",
      "datetime_strategy": "ffill",
      "drop_rows_threshold": 0.9,
      "indicator": true
    },
    "credit_card_fraud": {
      "numeric_strategy": "median",
      "categorical_strategy": "mode",
      "drop_columns_threshold": 0.98,
      "indicator": false
    },
    "lending_club_loans": {
      "numeric_strategy": "median",
      "categorical_strategy": "mode",
      "drop_columns_threshold": 0.6,
      "drop_rows_threshold": 0.8,
      "indicator": true
    }
  },
  "preprocessing": {
    "stock_market": {
      "missing_values_preset": "stock_market",
      "scaling": {
        "strategy": "standard",
        "columns": [
          "Open",
          "High",
          "Low",
          "Close",
          "Volume"
        ],
        "groupby": [
          "Ticker"
        ]
      },
      "rolling_features": [
        {
          "columns": [
            "Close"
          ],
          "window": 5,
          "min_periods": 1,
          "aggregations": [
            "mean",
            "std"
          ],
          "groupby": [
            "Ticker"
          ],
          "prefix": "close"
        },
        {
          "columns": [
            "Volume"
          ],
          "window": 5,
          "min_periods": 1,
          "aggregations": [
            "mean"
          ],
          "groupby": [
            "Ticker"
          ],
          "prefix": "volume"
        }
      ],
      "feature_sets": {
        "technical": {
          "steps": [
            {
              "type": "technical_indicators",
              "price_column": "Close",
              "volume_column": "Volume",
              "groupby": [
                "Ticker"
              ],
              "windows": [
                5,
                10,
                20
              ]
            }
          ]
        },
        "sentiment": {
          "steps": [
            {
              "type": "sentiment_proxy",
              "price_column": "Close",
              "groupby": [
                "Ticker"
              ],
              "window": 10,
              "prefix": "sentiment"
            }
          ]
        },
        "macro": {
          "steps": [
            {
              "type": "macro_proxy",
              "date_column": "Date",
              "columns": [
                "Close",
                "Volume"
              ],
              "aggregations": [
                "mean",
                "std"
              ],
              "prefix": "macro"
            }
          ]
        }
      },
      "target": {
        "type": "direction",
        "price_column": "Close",
        "horizon": 1,
        "positive_label": 1,
        "negative_label": 0
      },
      "ablation_feature_sets": [
        [
          "technical"
        ],
        [
          "technical",
          "sentiment"
        ],
        [
          "technical",
          "macro"
        ],
        [
          "technical",
          "sentiment",
          "macro"
        ]
      ],
      "feature_selection": {
        "exclude": [
          "Date",
          "Ticker"
        ]
      },
      "profiles": {
        "P0_baseline": {},
        "P1_median_mode_no_indicator": {
          "missing_override": {
            "numeric_strategy": "median",
            "categorical_strategy": "mode",
            "indicator": false
          }
        },
        "P2_robust_scaler_winsorize": {
          "scaling": {
            "strategy": "robust",
            "columns": [
              "Open",
              "High",
              "Low",
              "Close",
              "Volume"
            ],
            "groupby": [
              "Ticker"
            ]
          },
          "outlier_clip": {
            "method": "winsorize",
            "lower": 0.01,
            "upper": 0.99,
            "per_group": true,
            "columns": [
              "Open",
              "High",
              "Low",
              "Close",
              "Volume"
            ],
            "groupby": [
              "Ticker"
            ]
          }
        },
        "P3_minmax_global": {
          "scaling": {
            "strategy": "minmax",
            "columns": [
              "Open",
              "High",
              "Low",
              "Close",
              "Volume"
            ],
            "groupby": []
          }
        },
        "P4_no_scaling": {
          "scaling": {
            "strategy": null
          },
          "transforms": [
            {
              "type": "log1p_safe",
              "columns": [
                "Volume"
              ]
            }
          ]
        },
        "P5_short_windows_returns": {
          "rolling_features": [
            {
              "columns": [
                "Close"
              ],
              "window": 3,
              "min_periods": 1,
              "aggregations": [
                "mean",
                "std"
              ],
              "groupby": [
                "Ticker"
              ],
              "prefix": "close"
            },
            {
              "columns": [
                "Volume"
              ],
              "window": 3,
              "min_periods": 1,
              "aggregations": [
                "mean"
              ],
              "groupby": [
                "Ticker"
              ],
              "prefix": "volume"
            }
          ],
          "transforms": [
            {
              "type": "returns",
              "columns": [
                "Close"
              ],
              "lags": [
                1,
                3,
                5
              ],
              "groupby": [
                "Ticker"
              ],
              "prefix": "ret"
            }
          ]
        }
      },
      "ablation_preprocessing_sets": [
        "P0_baseline",
        "P1_median_mode_no_indicator",
        "P2_robust_scaler_winsorize",
        "P3_minmax_global",
        "P4_no_scaling",
        "P5_short_windows_returns"
      ]
    }
  },
  "models": {
    "logistic_regression": {
      "module": "sklearn.linear_model",
      "class": "LogisticRegression",
      "params": {
        "solver": "lbfgs",
        "max_iter": 5000,
        "tol": 0.001,
        "C": 0.5
      }
    },
    "random_forest": {
      "module": "sklearn.ensemble",
      "class": "RandomForestClassifier",
      "params": {
        "n_estimators": 200,
        "max_depth": null,
        "random_state": 42,
        "n_jobs": -1
      }
    },
    "gradient_boosting": {
      "module": "sklearn.ensemble",
      "class": "GradientBoostingClassifier",
      "params": {
        "random_state": 42
      }
    },
    "naive_bayes": {
      "module": "sklearn.naive_bayes",
      "class": "GaussianNB",
      "params": {}
    },
    "decision_tree": {
      "module": "sklearn.tree",
      "class": "DecisionTreeClassifier",
      "params": {
        "random_state": 42
      }
    },
    "svm": {
      "module": "sklearn.svm",
      "class": "SVC",
      "params": {
        "kernel": "rbf",
        "probability": true,
        "random_state": 42
      }
    }
  },
  "experiments": {
    "q1_stock_movement": {
      "dataset": "stock_market",
      "dataset_options": {
        "tickers": [
          "aapl.us",
          "msft.us"
        ],
        "date_column": "Date",
        "ticker_column": "Ticker",
        "parse_dates": true,
        "limit_per_ticker": 2000
      },
      "split": {
        "method": "time",
        "test_size": 0.2
      },
      "models": [
        "logistic_regression",
        "naive_bayes",
        "decision_tree",
        "svm",
        "random_forest",
        "gradient_boosting"
      ],
      "metrics": [
        "accuracy",
        "f1"
      ],
      "ablation_sets_key": "ablation_preprocessing_sets",
      "ablation_axis": "preprocessing",
      "feature_sets_fixed": [
        "technical",
        "sentiment",
        "macro"
      ]
    }
  }
}